version: '3.8'

services:
  video-uploader:
    build: .
    container_name: ry-video-uploader
    restart: unless-stopped
    volumes:
      # 映射日志目录
      - ./logs:/app/logs
      # 映射 Cookie 目录 (持久化登录状态)
      - ./Upload/cookies:/app/Upload/cookies
      # 映射输出视频目录
      - ./Upload/videos:/app/Upload/videos
      # 映射 NAS 目录 (请根据实际情况修改宿主机路径)
      # 格式: - /宿主机/NAS路径:/nas
      - ${NAS_DIR:-./nas_data}:/nas
      # 映射下载目录 (如果需要)
      - ./Download:/app/Download
    environment:
      - TZ=Asia/Shanghai
      # 强制启用 Docker 模式
      - DOCKER_MODE=true
      # 容器内的 NAS 挂载点
      - NAS_DIR=/nas
    env_file:
      - .env
    # 网络模式 (如果需要访问宿主机网络服务)
    # network_mode: "host" 
